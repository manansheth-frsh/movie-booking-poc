<div class="container my-5">  <%# Use container for responsive centering and my-5 for margin %>
  <h1 class="mb-4">Create New User</h1> <%# mb-4 for margin-bottom %>

  <% if @user.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>

      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form_with(model: @user, url: users_path, local: true) do |form| %>
    
    <div class="mb-3"> <%# Use mb-3 for form row spacing %>
      <%= form.label :name, class: "form-label" %>
      <%= form.text_field :name, class: "form-control" %> <%# form-control for input styling %>
    </div>

    <div class="mb-3">
      <%= form.label :email, class: "form-label" %>
      <%= form.text_field :email, class: "form-control" %>
    </div>

    <%# --- ADDED PASSWORD FIELD --- %>
    <div class="mb-3">
      <%= form.label :password, class: "form-label" %>
      <%# Use password_field to mask input %>
      <%= form.password_field :password, class: "form-control" %>
    </div>

    <%# --- ADDED PASSWORD CONFIRMATION FIELD --- %>
    <div class="mb-3">
      <%= form.label :password_confirmation, "Confirm Password", class: "form-label" %>
      <%# has_secure_password looks for the parameter named :password_confirmation %>
      <%= form.password_field :password_confirmation, class: "form-control" %>
    </div>
    
<% if false %>
  <div class="form-check mb-3"> <%# form-check for checkbox alignment %>
    <%= form.check_box :is_admin, class: "form-check-input" %>
    <%= form.label :is_admin, "Is Admin?", class: "form-check-label" %>
  </div>
<% end %>

    <div class="d-grid"> <%# d-grid for full-width button %>
      <%= form.submit "Create User", class: "btn btn-primary" %> <%# btn btn-primary for button styling %>
    </div>
  <% end %>

  <div class="mt-3"> <%# mt-3 for margin-top %>
    <%= link_to 'Back to Users', users_path, class: "btn btn-secondary btn-sm" %>
  </div>
</div>
